<div th:fragment="page-content">
  <h1>Reservar Habitaciones</h1>
  <form action="">
    <label for="fechaInicio">Fecha de Inicio:</label>
    <input type="date" id="fechaInicio" name="fechaInicio" required>
    <label for="fechaFin">Fecha de Fin:</label>
    <input type="date" id="fechaFin" name="fechaFin" required>
    <label for="tipo">Tipo de Habitación</label>
    <select name="tipo" id="tipo">
      <option th:each="tipo : ${tipos}"
              th:text="${tipo}"
              th:value="${tipo}" ></option>
    </select>
  </form>
  <div>
    <table border="1" cellpadding="5" cellspacing="0">

      <thead>
        <tr>
          <th>Fecha</th>

          <!-- ENCABEZADO: IDs DE HABITACIÓN -->
          <th th:each="habId : ${tablaEstados[0].estadosPorHabitacion.keySet()}"
              th:text="'Hab ' + ${habId}">
          </th>
        </tr>
      </thead>

      <tbody>

        <!-- UNA FILA POR FECHA -->
        <tr th:each="fila : ${tablaEstados}">

          <!-- FECHA FORMATEADA -->
          <td th:text="${#temporals.format(fila.fecha, 'dd/MM/yyyy')}"></td>

          <!-- UNA CELDA POR ESTADO →
               ENTRY SET PARA NO PERDER LA KEY -->
          <td th:each="entry : ${fila.estadosPorHabitacion.entrySet()}"
              th:text="${entry.value}">
          </td>

        </tr>

      </tbody>

    </table>
  </div>
</div>