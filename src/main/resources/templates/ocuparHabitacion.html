<div th:fragment="page-content">
    <script src="/formularioGrilla.js"></script>
    <script src="/ocuparHabitacion.js"></script>
    <div id="ruta" hidden>ocupar</div>
    <div class="container my-5 p-4 border rounded shadow-lg bg-white">
        <h1 class="mb-4 text-center text-primary border-bottom pb-2">
            Ocupar Habitaciones
        </h1>

        <form class="row g-3 align-items-end mb-4">
            <div class="col-md-4">
                <label for="fechaInicio" class="form-label fw-bold"
                    >Fecha de Inicio:</label
                >
                <input
                    type="date"
                    id="fechaInicio"
                    th:value="${fechaInicioSeleccionada}"
                    name="fechaInicio"
                    required
                    class="form-control"
                />
            </div>

            <div class="col-md-4">
                <label for="fechaFin" class="form-label fw-bold"
                    >Fecha de Fin:</label
                >
                <input
                    type="date"
                    id="fechaFin"
                    th:value="${fechaFinSeleccionada}"
                    name="fechaFin"
                    required
                    class="form-control"
                />
            </div>

            <div class="col-md-4">
                <label for="tipo" class="form-label fw-bold"
                    >Tipo de Habitación</label
                >
                <select name="tipo" id="tipo" class="form-select">
                    <option
                        value=""
                        th:if="${tipoSeleccionado == null or tipoSeleccionado == ''}"
                        th:text="'Seleccione...'"
                        disabled
                        selected
                    ></option>
                    <option
                        th:each="tipo : ${tipos}"
                        th:text="${tipo}"
                        th:value="${tipo}"
                        th:selected="${tipoSeleccionado != null and tipo.toString() == tipoSeleccionado.toString()}"
                    ></option>
                </select>
            </div>
        </form>

        <div th:if="${mostrarTabla}" class="mt-4">
            <div th:replace="estadoHabitaciones :: content"></div>
        </div>
    </div>

    <div
        class="modal fade"
        id="aviso"
        tabindex="-1"
        aria-labelledby="modalLabel"
        aria-hidden="true"
    >
        <div class="modal-dialog modal-sm modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="modalLabel">Aviso</h5>
                    <button
                        type="button"
                        class="btn-close btn-close-white"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                    ></button>
                </div>

                <div class="modal-body text-center" id="modalReservasBody">
                    <p class="lead fw-bold mb-0">
                        PRESIONE UNA TECLA PARA CONTINUAR...
                    </p>
                </div>

                <div
                    class="modal-footer d-flex justify-content-center"
                    id="modalReservasFooter"
                >
                    <small class="text-muted"
                        >Esperando acción del usuario...</small
                    >
                </div>
            </div>
        </div>
    </div>
    <div
        class="modal fade"
        id="modal-confirmacion-ocupa"
        tabindex="-1"
        aria-labelledby="modalConfirmacionLabel"
        aria-hidden="true"
    >
        <div class="modal-dialog modal-md modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-warning text-dark">
                    <h5 class="modal-title" id="modalConfirmacionLabel">
                        Habitación YA Reservada
                    </h5>
                    <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Cerrar"
                    ></button>
                </div>

                <div class="modal-body text-center">
                    <p class="lead fw-bold mb-3">
                        La habitación ya tiene una reserva.
                    </p>
                    <p id="detalle-reserva" class="mb-0"></p>
                    <!-- <small class="text-danger">Si continúa, ocupará la habitación sin afectar la reserva existente.</small> -->
                </div>

                <div class="modal-footer justify-content-center">
                    <button
                        type="button"
                        class="btn btn-warning"
                        id="btn-ocupar-igual"
                    >
                        OCUPAR IGUAL
                    </button>

                    <button
                        type="button"
                        class="btn btn-secondary"
                        id="btn-volver"
                    >
                        VOLVER
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
